## Audio Player OOP (JS/HTML/CSS)

Цель — реализовать аудиоплеер на чистом JS/HTML/CSS с использованием классов, инкапсуляции, композиций и паттернов (Стратегия, Наблюдатель через `EventTarget`). Без фреймворков, без `innerHTML`, только DOM API.

### Возможности
- Воспроизведение/пауза, предыдущий/следующий трек
- Три стратегии проигрывания: последовательно, случайно, повтор одного
- Список треков c выбором, активный трек подсвечивается
- Ползунок прогресса, переход по таймлайну (seek)
- Громкость, мут
- Сохранение последнего трека и стратегии в `localStorage`

### Стек и ограничения
- Vanilla JS (ES-модули), HTML, CSS
- Классы и модули, без внешних UI-библиотек
- DOM: только `createElement`, `appendChild`, `addEventListener` и т.п. — без `innerHTML`

---

## Быстрый старт (Node.js)

1) Запустите локальный сервер

```bash
npm start
```

2) Откройте в браузере `http://localhost:3000`

Вы увидите плеер с демо-плейлистом. Можете добавить свои файлы в `assets/` и обновить демо-конфиг в `src/main.js`.

---

## Структура проекта

```
audio-player-oop/
  assets/
    .gitkeep
  src/
    core/
      AudioPlayer.js
    models/
      Playlist.js
      Track.js
    strategies/
      PlaybackStrategy.js
      RepeatOneStrategy.js
      SequentialStrategy.js
      ShuffleStrategy.js
    ui/
      Renderer.js
    main.js
  styles/
    styles.css
  index.html
  server.js
  package.json
  README.md
```

---

## Учебные цели (ООП)
- Инкапсуляция: `Track`, `Playlist`, `AudioPlayer` прячут внутреннее состояние
- Композиция: `AudioPlayer` использует `Playlist` и стратегию воспроизведения
- Полиморфизм: стратегии `Sequential`, `Shuffle`, `RepeatOne` реализуют общий интерфейс
- События: `AudioPlayer` — `EventTarget` (наблюдатель), UI подписывается на события

---

## Подробная инструкция по реализации (пошагово)

Шаг 1. Модели домена
- `Track`: id, title, artist, url, duration (опционально)
- `Playlist`: управляет массивом `Track`, текущим индексом, методами выбора/поиска

Шаг 2. Стратегии воспроизведения (паттерн Стратегия)
- Базовый интерфейс `PlaybackStrategy`
- Реализации: `Sequential`, `Shuffle`, `RepeatOne`
- Стратегия определяет следующий индекс трека

Шаг 3. Аудио-движок
- `AudioPlayer`: обёртка над `HTMLAudioElement`
- Методы `load`, `play`, `pause`, `toggle`, `seek`, `setVolume`, события (`play`, `pause`, `timeupdate`, `ended`, `trackchange`)
- Хранит ссылку на `Playlist` и стратегию

Шаг 4. UI-рендерер
- `Renderer`: создаёт элементы управления через DOM API, без `innerHTML`
- Обновляет состояние: кнопки, прогресс, активный трек, громкость
- Подписывается на события `AudioPlayer`

Шаг 5. Инициализация и демо-данные
- В `main.js` создайте демо-плейлист (публичные URL)
- Привяжите обработчики и сохранение настроек в `localStorage`

Шаг 6. Тестирование сценариев
- Последовательное проигрывание: next/prev
- Переключение стратегий и повтор
- Перемотка по полосе прогресса, изменение громкости
- Перезагрузка страницы: восстановление последнего трека и стратегии

---

## Добавление своих треков
1) Положите файлы в `assets/`
2) В `src/main.js` добавьте объекты `Track` с `url: './assets/your-file.mp3'`
3) Перезапустите страницу

---

## Траблшутинг
- В браузерной консоли есть ошибки CORS при воспроизведении удалённых файлов — используйте локальные файлы из `assets/`
- Нет звука — проверьте громкость, системные настройки, автоплей заблокирован: начните с клика Play
- Ничего не грузится — убедитесь, что сервер запущен на `http://localhost:3000`

---

